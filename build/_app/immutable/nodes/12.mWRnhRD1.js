import{s as dt,n as et,o as ct,e as vt,r as ht,i as ft}from"../chunks/DfxLU_3W.js";import{S as bt,i as _t,d as u,b as Se,o as tt,r as st,s as R,m as o,u as lt,c as t,p as De,e as i,f as v,g as q,h as j,n as ye,j as r,k,l as T}from"../chunks/DlXFpOFv.js";import{e as Ee}from"../chunks/D6YF6ztN.js";import{g as Re}from"../chunks/B8Eevg5d.js";import{e as Ie,s as pt,u as zt}from"../chunks/DLQ-_Clx.js";import{s as gt}from"../chunks/BaHQO93m.js";function nt(e,n,s){const l=e.slice();return l[16]=n[s],l[18]=s,l}function at(e,n,s){const l=e.slice();return l[19]=n[s],l[18]=s,l}function ot(e){let n,s,l,d,I,h,p,D,E,g=ut(e[2])+"",N,B,H,C,S,U,G,b,z,f=e[3].questions.length+"",m,O,P,te,re=e[3].questions[e[0]-1].question+"",fe,we,J,Ve,F,L,je,be,Te,K,ue=e[0]===e[3].questions.length?"Selesai →":"Berikutnya →",_e,Ce,W,M,X,Fe="Daftar Soal",Ue,Y,Ne,Z,We='<div class="legend-item svelte-1ztboz"><span class="legend-box answered svelte-1ztboz"></span> <span>Terjawab</span></div> <div class="legend-item svelte-1ztboz"><span class="legend-box svelte-1ztboz"></span> <span>Belum</span></div> <div class="legend-item svelte-1ztboz"><span class="legend-box current svelte-1ztboz"></span> <span>Saat ini</span></div>',Be,Q,$,Ge="Progress",Oe,se,x,He,y,de=Object.keys(e[1]).length+"",pe,Pe,ce=e[3].questions.length+"",ze,Me,Qe,Je,le=Ee(e[3].questions[e[0]-1].options),w=[];for(let c=0;c<le.length;c+=1)w[c]=it(at(e,le,c));let ne=Ee(e[3].questions),V=[];for(let c=0;c<ne.length;c+=1)V[c]=rt(nt(e,ne,c));return{c(){n=r("div"),s=r("div"),l=r("div"),d=r("h1"),I=k("Ujian "),h=k(e[4]),p=T(),D=r("div"),E=k("⏱️ "),N=k(g),H=T(),C=r("div"),S=r("div"),U=r("div"),G=k("Soal "),b=k(e[0]),z=k(" dari "),m=k(f),O=T(),P=r("div"),te=r("h2"),fe=k(re),we=T(),J=r("div");for(let c=0;c<w.length;c+=1)w[c].c();Ve=T(),F=r("div"),L=r("button"),je=k("← Sebelumnya"),Te=T(),K=r("button"),_e=k(ue),Ce=T(),W=r("div"),M=r("div"),X=r("h3"),X.textContent=Fe,Ue=T(),Y=r("div");for(let c=0;c<V.length;c+=1)V[c].c();Ne=T(),Z=r("div"),Z.innerHTML=We,Be=T(),Q=r("div"),$=r("h3"),$.textContent=Ge,Oe=T(),se=r("div"),x=r("div"),He=T(),y=r("p"),pe=k(de),Pe=k(" / "),ze=k(ce),Me=k(" soal terjawab"),this.h()},l(c){n=i(c,"DIV",{class:!0});var _=v(n);s=i(_,"DIV",{class:!0});var a=v(s);l=i(a,"DIV",{class:!0});var A=v(l);d=i(A,"H1",{class:!0});var Ae=v(d);I=q(Ae,"Ujian "),h=q(Ae,e[4]),Ae.forEach(u),p=j(A),D=i(A,"DIV",{class:!0});var Le=v(D);E=q(Le,"⏱️ "),N=q(Le,g),Le.forEach(u),A.forEach(u),a.forEach(u),H=j(_),C=i(_,"DIV",{class:!0});var ge=v(C);S=i(ge,"DIV",{class:!0});var ae=v(S);U=i(ae,"DIV",{class:!0});var ve=v(U);G=q(ve,"Soal "),b=q(ve,e[0]),z=q(ve," dari "),m=q(ve,f),ve.forEach(u),O=j(ae),P=i(ae,"DIV",{class:!0});var me=v(P);te=i(me,"H2",{class:!0});var Ke=v(te);fe=q(Ke,re),Ke.forEach(u),we=j(me),J=i(me,"DIV",{class:!0});var Xe=v(J);for(let ee=0;ee<w.length;ee+=1)w[ee].l(Xe);Xe.forEach(u),me.forEach(u),Ve=j(ae),F=i(ae,"DIV",{class:!0});var qe=v(F);L=i(qe,"BUTTON",{class:!0});var Ye=v(L);je=q(Ye,"← Sebelumnya"),Ye.forEach(u),Te=j(qe),K=i(qe,"BUTTON",{class:!0});var Ze=v(K);_e=q(Ze,ue),Ze.forEach(u),qe.forEach(u),ae.forEach(u),Ce=j(ge),W=i(ge,"DIV",{class:!0});var ke=v(W);M=i(ke,"DIV",{class:!0});var oe=v(M);X=i(oe,"H3",{class:!0,"data-svelte-h":!0}),ye(X)!=="svelte-1x9zahh"&&(X.textContent=Fe),Ue=j(oe),Y=i(oe,"DIV",{class:!0});var $e=v(Y);for(let ee=0;ee<V.length;ee+=1)V[ee].l($e);$e.forEach(u),Ne=j(oe),Z=i(oe,"DIV",{class:!0,"data-svelte-h":!0}),ye(Z)!=="svelte-e57tlt"&&(Z.innerHTML=We),oe.forEach(u),Be=j(ke),Q=i(ke,"DIV",{class:!0});var ie=v(Q);$=i(ie,"H3",{class:!0,"data-svelte-h":!0}),ye($)!=="svelte-1ukgq2b"&&($.textContent=Ge),Oe=j(ie),se=i(ie,"DIV",{class:!0});var xe=v(se);x=i(xe,"DIV",{class:!0,style:!0}),v(x).forEach(u),xe.forEach(u),He=j(ie),y=i(ie,"P",{class:!0});var he=v(y);pe=q(he,de),Pe=q(he," / "),ze=q(he,ce),Me=q(he," soal terjawab"),he.forEach(u),ie.forEach(u),ke.forEach(u),ge.forEach(u),_.forEach(u),this.h()},h(){o(d,"class","svelte-1ztboz"),o(D,"class",B="timer "+(e[2]<300?"warning":"")+" svelte-1ztboz"),o(l,"class","header-info svelte-1ztboz"),o(s,"class","soal-header svelte-1ztboz"),o(U,"class","question-number svelte-1ztboz"),o(te,"class","svelte-1ztboz"),o(J,"class","options svelte-1ztboz"),o(P,"class","question-card svelte-1ztboz"),o(L,"class","btn-nav svelte-1ztboz"),L.disabled=be=e[0]===1,o(K,"class","btn-nav btn-primary svelte-1ztboz"),o(F,"class","question-navigation svelte-1ztboz"),o(S,"class","question-section svelte-1ztboz"),o(X,"class","svelte-1ztboz"),o(Y,"class","question-grid svelte-1ztboz"),o(Z,"class","legend svelte-1ztboz"),o(M,"class","question-list-card svelte-1ztboz"),o($,"class","svelte-1ztboz"),o(x,"class","progress-fill svelte-1ztboz"),lt(x,"width",Object.keys(e[1]).length/e[3].questions.length*100+"%"),o(se,"class","progress-bar svelte-1ztboz"),o(y,"class","svelte-1ztboz"),o(Q,"class","progress-card svelte-1ztboz"),o(W,"class","sidebar svelte-1ztboz"),o(C,"class","soal-content svelte-1ztboz"),o(n,"class","soal-container svelte-1ztboz")},m(c,_){Se(c,n,_),t(n,s),t(s,l),t(l,d),t(d,I),t(d,h),t(l,p),t(l,D),t(D,E),t(D,N),t(n,H),t(n,C),t(C,S),t(S,U),t(U,G),t(U,b),t(U,z),t(U,m),t(S,O),t(S,P),t(P,te),t(te,fe),t(P,we),t(P,J);for(let a=0;a<w.length;a+=1)w[a]&&w[a].m(J,null);t(S,Ve),t(S,F),t(F,L),t(L,je),t(F,Te),t(F,K),t(K,_e),t(C,Ce),t(C,W),t(W,M),t(M,X),t(M,Ue),t(M,Y);for(let a=0;a<V.length;a+=1)V[a]&&V[a].m(Y,null);t(M,Ne),t(M,Z),t(W,Be),t(W,Q),t(Q,$),t(Q,Oe),t(Q,se),t(se,x),t(Q,He),t(Q,y),t(y,pe),t(y,Pe),t(y,ze),t(y,Me),Qe||(Je=[De(L,"click",e[7]),De(K,"click",function(){ft(e[0]===e[3].questions.length?e[9]:e[6])&&(e[0]===e[3].questions.length?e[9]:e[6]).apply(this,arguments)})],Qe=!0)},p(c,_){if(e=c,_&16&&R(h,e[4]),_&4&&g!==(g=ut(e[2])+"")&&R(N,g),_&4&&B!==(B="timer "+(e[2]<300?"warning":"")+" svelte-1ztboz")&&o(D,"class",B),_&1&&R(b,e[0]),_&8&&f!==(f=e[3].questions.length+"")&&R(m,f),_&9&&re!==(re=e[3].questions[e[0]-1].question+"")&&R(fe,re),_&43){le=Ee(e[3].questions[e[0]-1].options);let a;for(a=0;a<le.length;a+=1){const A=at(e,le,a);w[a]?w[a].p(A,_):(w[a]=it(A),w[a].c(),w[a].m(J,null))}for(;a<w.length;a+=1)w[a].d(1);w.length=le.length}if(_&1&&be!==(be=e[0]===1)&&(L.disabled=be),_&9&&ue!==(ue=e[0]===e[3].questions.length?"Selesai →":"Berikutnya →")&&R(_e,ue),_&267){ne=Ee(e[3].questions);let a;for(a=0;a<ne.length;a+=1){const A=nt(e,ne,a);V[a]?V[a].p(A,_):(V[a]=rt(A),V[a].c(),V[a].m(Y,null))}for(;a<V.length;a+=1)V[a].d(1);V.length=ne.length}_&10&&lt(x,"width",Object.keys(e[1]).length/e[3].questions.length*100+"%"),_&2&&de!==(de=Object.keys(e[1]).length+"")&&R(pe,de),_&8&&ce!==(ce=e[3].questions.length+"")&&R(ze,ce)},d(c){c&&u(n),st(w,c),st(V,c),Qe=!1,ht(Je)}}}function it(e){let n,s,l,d,I,h,p=String.fromCharCode(65+e[18])+"",D,E,g,N,B=e[19]+"",H,C,S,U,G;function b(){return e[10](e[18])}return{c(){n=r("label"),s=r("input"),I=T(),h=r("span"),D=k(p),E=k("."),g=T(),N=r("span"),H=k(B),C=T(),this.h()},l(z){n=i(z,"LABEL",{class:!0});var f=v(n);s=i(f,"INPUT",{type:!0,name:!0,class:!0}),I=j(f),h=i(f,"SPAN",{class:!0});var m=v(h);D=q(m,p),E=q(m,"."),m.forEach(u),g=j(f),N=i(f,"SPAN",{class:!0});var O=v(N);H=q(O,B),O.forEach(u),C=j(f),f.forEach(u),this.h()},h(){o(s,"type","radio"),o(s,"name",l="question-"+e[3].questions[e[0]-1].id),s.value=e[18],s.checked=d=e[1][e[3].questions[e[0]-1].id]===e[18],o(s,"class","svelte-1ztboz"),o(h,"class","option-letter svelte-1ztboz"),o(N,"class","option-text svelte-1ztboz"),o(n,"class",S="option-label "+(e[1][e[3].questions[e[0]-1].id]===e[18]?"selected":"")+" svelte-1ztboz")},m(z,f){Se(z,n,f),t(n,s),t(n,I),t(n,h),t(h,D),t(h,E),t(n,g),t(n,N),t(N,H),t(n,C),U||(G=De(s,"change",b),U=!0)},p(z,f){e=z,f&9&&l!==(l="question-"+e[3].questions[e[0]-1].id)&&o(s,"name",l),f&11&&d!==(d=e[1][e[3].questions[e[0]-1].id]===e[18])&&(s.checked=d),f&9&&B!==(B=e[19]+"")&&R(H,B),f&11&&S!==(S="option-label "+(e[1][e[3].questions[e[0]-1].id]===e[18]?"selected":"")+" svelte-1ztboz")&&o(n,"class",S)},d(z){z&&u(n),U=!1,G()}}}function rt(e){let n,s=e[18]+1+"",l,d,I,h,p;function D(){return e[11](e[18])}return{c(){n=r("button"),l=k(s),d=T(),this.h()},l(E){n=i(E,"BUTTON",{class:!0});var g=v(n);l=q(g,s),d=j(g),g.forEach(u),this.h()},h(){o(n,"class",I="question-btn "+(e[1][e[16].id]!==void 0?"answered":"")+" "+(e[0]===e[18]+1?"current":"")+" svelte-1ztboz")},m(E,g){Se(E,n,g),t(n,l),t(n,d),h||(p=De(n,"click",D),h=!0)},p(E,g){e=E,g&11&&I!==(I="question-btn "+(e[1][e[16].id]!==void 0?"answered":"")+" "+(e[0]===e[18]+1?"current":"")+" svelte-1ztboz")&&o(n,"class",I)},d(E){E&&u(n),h=!1,p()}}}function mt(e){let n,s=e[3]&&e[3].questions&&e[3].questions.length>0&&ot(e);return{c(){s&&s.c(),n=tt()},l(l){s&&s.l(l),n=tt()},m(l,d){s&&s.m(l,d),Se(l,n,d)},p(l,[d]){l[3]&&l[3].questions&&l[3].questions.length>0?s?s.p(l,d):(s=ot(l),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},i:et,o:et,d(l){l&&u(n),s&&s.d(l)}}}function ut(e){const n=Math.floor(e/3600),s=Math.floor(e%3600/60),l=e%60;return n>0?`${n}:${String(s).padStart(2,"0")}:${String(l).padStart(2,"0")}`:`${s}:${String(l).padStart(2,"0")}`}function qt(e,n,s){let l=1,d={},I=60*60,h=null,p=null,D="";ct(()=>{const b=Ie.subscribe(m=>{s(3,p=m),m&&m.questions&&m.questions.length>0?(s(1,d={...m.answers}),m.startTime||Ie.update(O=>({...O,startTime:Date.now()}))):Re("/pilih-mapel")}),z=pt.subscribe(m=>{if(m){const O=gt.find(P=>P.id===m);s(4,D=O?O.name:"")}}),f=zt.subscribe(m=>{});return h=setInterval(()=>{I>0?s(2,I--,I):C()},1e3),()=>{b(),z(),f(),h&&clearInterval(h)}}),vt(()=>{h&&clearInterval(h)});function E(b,z){s(1,d[b]=z,d),Ie.update(f=>({...f,answers:{...d}}))}function g(){l<p.questions.length&&s(0,l++,l)}function N(){l>1&&s(0,l--,l)}function B(b){b>=1&&b<=p.questions.length&&s(0,l=b)}function H(){Re("/konfirmasi-selesai")}function C(){h&&clearInterval(h),alert("Waktu habis! Ujian akan diakhiri."),S(),Re("/hasil")}function S(){if(!p||!p.questions)return;let b=0;p.questions.forEach(z=>{d[z.id]===z.correct&&b++}),b/p.questions.length*100,p.questions.length,p.questions.length-b,Ie.update(z=>({...z,endTime:Date.now()}))}return[l,d,I,p,D,E,g,N,B,H,b=>E(p.questions[l-1].id,b),b=>B(b+1)]}class Vt extends bt{constructor(n){super(),_t(this,n,qt,mt,dt,{})}}export{Vt as component};
